---
import { Icon } from 'astro-icon/components';

interface Props {
    ArrayItems : {item: string, url: string}[]
}


const {ArrayItems} = Astro.props;

---

<header>
    <nav class="navbar wrapper">
        <a class="navbar__logo" href="/">
            <img  src="/assets/IISEP_LOGO.webp" alt="iisep logo" />
        </a>
        <ul class="menu" id="main-menu">

            {
                ArrayItems.map( ({item, url}) =>{
                    return <li class="menu__item">
                                <a class="menu__link" href={ url }>{ item }</a>
                            </li>
                })
            }
        </ul>
        <button id="bntHamburguesa">
            <Icon name="MenuIcon" size={16} />
        </button>
    </nav>
</header>

<style lang="scss">

    header{
        //background-color: orange; 
        height: var(--alto-header);
        position: fixed; 
        top: 0; 
        z-index: 1000; 
        width: 100%;
        padding-block: .5rem;
        // animation : menu linear both; 
        box-shadow: 0px 3px 7px 0px rgba(230,230,230,0.9);
        background-color: rgba(255, 255, 255, 1);
        // animation-timeline: scroll(); 
        // animation-range: 0 150px;
        
    }

    .navbar {
        display: flex;
        flex-wrap: nowrap;
        justify-content: space-between;
        align-items: center;
        height: 100%;
        z-index: 100;

        &__logo {
            height: 100%;
            width: auto;
        }
    }

    .menu {
        background-color: rgb(38, 38, 38);
        // backdrop-filter: blur(10px);
        position: fixed;
        top: var(--alto-header);
        // left: 0;
        width: 100%;
        height: 100%;
        will-change: right;
        right: -100%;
        // transform: translateX(100%);
        transition : right .5s;
        // transition : transform .5s;
        
    

        &.active{
            will-change: auto;
            right: -35%;
        }

        &__item {
            padding: 1rem;
            overflow: hidden;
        }

        &__link {
            color: rgb(255, 255, 255);
            @media (width > 768px) {
                color: black;
            }
        }

        @media (width > 768px) {
            background-color: transparent;
            position: static;
            width: auto;
            height: auto;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            transform: translateX(0);
        }
    }

    button{
        border: none;
        margin: 0;
        padding: 0;
        width: auto;
        background-color: var(--color-Primary);
        border-radius: 50%;
        display: grid;
        place-items: center;
        height: 100%;
        font-size: 1.2rem;
         padding-inline: .5rem;
         color: white;
        // overflow: visible;

    // background: transparent;
        @media (width > 768px) {
            display: none;
        }
    }


    @keyframes menu {
        to{
            box-shadow: 0px 3px 4px 0px rgba(238,238,238,0.84);
            background-color: rgba(255, 255, 255, 1);
            // backdrop-filter: blur(1px);
        }
    }

</style>


<script>
    const MenuHamburguesa = document.getElementById("bntHamburguesa");
    const MainMenu = document.getElementById("main-menu");

    MenuHamburguesa.addEventListener("click", ()=>{
        MainMenu.classList.toggle("active");
    })

</script>